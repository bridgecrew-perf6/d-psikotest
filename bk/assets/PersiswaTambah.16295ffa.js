import{p as A,q as P,u as T,a as K,b as M,r as m,c as j,o as k,d as f,e,t as n,f as d,w as p,B as F,g as N,k as y,i as u,h as $,n as G,F as i,s as w,v as R,x as z,j as L,l as E,m as x,A as V,T as D}from"./index.1f9f869c.js";const I={key:0,class:"pt-4 px-10 md:flex justify-between"},W={class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"},H={class:"md:py-0 py-4"},J=x(" Kasus "),O=x(" Tambah "),Q={class:"pt-4 px-10 md:flex justify-between"},X=e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-gray-700 shadow-sm"})],-1),Y={class:"md:py-0 py-4 space-x-2 space-y-2"},Z=e("button",{class:"btn hover:shadow-lg shadow text-white hover:text-gray-100 gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})]),x(" Kembali ")],-1),ee=[Z],ae={class:"px-4 py-4"},se={class:"w-full"},te={class:"bg-white shadow rounded-lg px-0 py-4"},le={class:"w-full lg:w-fi mx-4"},ne={class:"p-2 sm:p-6 xl:p-8"},oe={class:"pt-0 px-0"},de={class:"w-full mx-0"},ue={class:"bg-white rounded-lg p-0 sm:p-6 xl:p-0"},ie={class:"grid md:grid-cols-2 gap-2"},re=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Tanggal",-1),me={class:"text-xs text-red-600 mt-1"},ce=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Kasus",-1),be={class:"text-xs text-red-600 mt-1"},ke=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Pengambilan data",-1),pe={class:"text-xs text-red-600 mt-1"},xe=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Sumber kasus",-1),ge={class:"text-xs text-red-600 mt-1"},ve=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Golongan kasus",-1),_e=e("option",{disabled:"",selected:""},"Pilih ?",-1),he=e("option",null,"Sedang",-1),fe=e("option",null,"Ringan",-1),ye=[_e,he,fe],we={class:"text-xs text-red-600 mt-1"},Ve=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Penyebab timbul kasus",-1),De={class:"text-xs text-red-600 mt-1"},Se=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Teknik Konseling",-1),Be={class:"text-xs text-red-600 mt-1"},Ce=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Keberhasilan Penanganan kasus",-1),Ue={class:"text-xs text-red-600 mt-1"},qe=e("label",{for:"name",class:"text-sm font-medium text-gray-900 block mb-2"},"Keterangan",-1),Ae={class:"text-xs text-red-600 mt-1"},Pe=e("div",{class:"w-full flex justify-end mt-4 px-20"},[e("button",{class:"btn btn-active btn-lg btn-primary"}," Simpan ")],-1),Fe={name:"PersiswaTambah",setup(Te){const g=A();P(()=>g.getSekolah),g.$subscribe((l,s)=>{}),T().setPagesActive("kasus");const v=K(),_=M(),c=_.params.id,S=_.params.id2,B=m([]),h=m([]),b=m([]),a=m([]);(async()=>{try{const l=await V.get(`gurubk/catatan/kasus/${c}`);return B.value=l.data,h.value=l.data,b.value=l.siswa,l.data}catch(l){console.error(l)}})();const C=()=>{U()},U=async l=>{let s={kasus:a.value.kasus,tanggal:a.value.tanggal,pengambilandata:a.value.pengambilandata,sumberkasus:a.value.sumberkasus,golkasus:a.value.golkasus,penyebabtimbulkasus:a.value.penyebabtimbulkasus,teknikkonseling:a.value.teknikkonseling,keberhasilanpenanganankasus:a.value.keberhasilanpenanganankasus,keterangan:a.value.keterangan};try{const r=await V.post(`gurubk/catatan/kasus/${c}`,s);return D.success("Success","Data Berhasil ditambahkan!"),v.push({name:"AdminCatatanKasusPersiswa",params:{id:c,id2:S}}),r.data}catch(r){D.danger("Warning","Data gagal ditambahkan!"),console.error(r)}};return(l,s)=>{const r=j("Datepicker");return k(),f(E,null,[b.value?(k(),f("div",I,[e("div",null,[e("span",W,n(b.value.nama),1)]),e("div",H,[d(N,null,{content:p(()=>[J,d(F),O]),_:1})])])):y("",!0),e("div",Q,[X,e("div",Y,[e("span",{onClick:s[0]||(s[0]=o=>u(v).go(-1))},ee)])]),e("div",ae,[e("div",se,[e("div",te,[e("div",le,[e("div",ne,[h.value?(k(),$(u(L),{key:0,onSubmit:C},{default:p(({errors:o})=>[e("div",oe,[e("div",de,[e("div",ue,[e("div",ie,[e("div",null,[re,d(r,{modelValue:a.value.tanggal,"onUpdate:modelValue":s[1]||(s[1]=t=>a.value.tanggal=t),format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",rules:l.validateData,required:""},{"calendar-header":p(({index:t,day:q})=>[e("div",{class:G(t===5||t===6?"red-color":"")},n(q),3)]),_:1},8,["modelValue","rules"]),e("div",me,n(o.tanggal),1)]),e("div",null,[ce,d(u(i),{modelValue:a.value.kasus,"onUpdate:modelValue":s[2]||(s[2]=t=>a.value.kasus=t),rules:l.validateData,type:"text",name:"kasus",ref:"kasus",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),e("div",be,n(o.kasus),1)]),e("div",null,[ke,d(u(i),{modelValue:a.value.pengambilandata,"onUpdate:modelValue":s[3]||(s[3]=t=>a.value.pengambilandata=t),rules:l.validateData,type:"text",name:"pengambilandata",ref:"pengambilandata",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),e("div",pe,n(o.pengambilandata),1)]),e("div",null,[xe,d(u(i),{modelValue:a.value.sumberkasus,"onUpdate:modelValue":s[4]||(s[4]=t=>a.value.sumberkasus=t),rules:l.validateData,type:"text",name:"sumberkasus",ref:"sumberkasus",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),e("div",ge,n(o.sumberkasus),1)]),e("div",null,[ve,w(e("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":s[5]||(s[5]=t=>a.value.golkasus=t),name:"golkasus",ref:"golkasus"},ye,512),[[R,a.value.golkasus]]),e("div",we,n(o.golkasus),1)]),e("div",null,[Ve,d(u(i),{modelValue:a.value.penyebabtimbulkasus,"onUpdate:modelValue":s[6]||(s[6]=t=>a.value.penyebabtimbulkasus=t),rules:l.validateData,type:"text",name:"penyebabtimbulkasus",ref:"penyebabtimbulkasus",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),e("div",De,n(o.penyebabtimbulkasus),1)]),e("div",null,[Se,d(u(i),{modelValue:a.value.teknikkonseling,"onUpdate:modelValue":s[7]||(s[7]=t=>a.value.teknikkonseling=t),rules:l.validateData,type:"text",name:"teknikkonseling",ref:"teknikkonseling",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),e("div",Be,n(o.teknikkonseling),1)]),e("div",null,[Ce,d(u(i),{modelValue:a.value.keberhasilanpenanganankasus,"onUpdate:modelValue":s[8]||(s[8]=t=>a.value.keberhasilanpenanganankasus=t),rules:l.validateData,type:"text",name:"keberhasilanpenanganankasus",ref:"keberhasilanpenanganankasus",class:"input input-bordered md:w-full max-w-2xl",required:""},null,8,["modelValue","rules"]),e("div",Ue,n(o.keberhasilanpenanganankasus),1)]),e("div",null,[qe,w(e("textarea",{"onUpdate:modelValue":s[9]||(s[9]=t=>a.value.keterangan=t),class:"textarea textarea-accent md:w-full max-w-2xl",placeholder:""},null,512),[[z,a.value.keterangan]]),e("div",Ae,n(o.keterangan),1)])]),Pe])])])]),_:1})):y("",!0)])])])])])],64)}}};export{Fe as default};
