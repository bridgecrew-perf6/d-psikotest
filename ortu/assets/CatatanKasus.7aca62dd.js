import{m as h,l as $}from"./id.a535c4d0.js";import{u as T,d as k,a as E,b as P,c as R,r as f,e as u,o as a,f as n,g as t,h as o,w as d,j as V,k as z,F as H,R as x,T as b,t as w,p as m}from"./index.80c866ad.js";import{B as M,a as N}from"./BreadCrumbSpace.dc545f5b.js";import{B as Y,a as I}from"./ButtonDel.273165c2.js";const F={class:"pt-4 px-10 md:flex justify-between"},G=t("div",null,[t("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"},"Catatan Kasus Siswa")],-1),L={class:"md:py-0 py-4"},W=m(" Kasus "),O=m(" Index "),U={class:"pt-4 px-10 md:flex justify-between"},q=m("Tambah"),J=t("button",{class:"btn btn-sm"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})])],-1),Q=[J],X=t("div",{class:"md:py-0 py-4"},null,-1),Z=t("div",{class:"pt-4 px-10 md:flex justify-between"},[t("div",null,[t("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-gray-700 shadow-sm"})]),t("div",{class:"md:py-0 py-4 space-x-2 space-y-2"})],-1),tt={class:"md:py-2 px-4 lg:flex flex-wrap gap-4"},et={class:"w-full lg:w-full"},st={class:"bg-white shadow rounded-lg px-4 py-4"},at={key:0},nt={key:0},ot={class:"text-sm font-medium text-center flex justify-center space-x-1"},it={key:0},lt={key:1,class:"text-sm font-medium text-center flex justify-center space-x-0"},dt={key:2,class:"text-sm font-medium text-center flex justify-center space-x-0"},ct=t("button",{class:"btn btn-sm btn-primary tooltip","data-tip":"Detail"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),rt={key:1},ut={class:"text-center"},mt={key:2},_t={class:"text-center"},pt={key:0},ht={key:1},kt={key:2},ft={key:3},Bt={__name:"CatatanKasus",setup(xt){h.updateLocale("id",$);const v="https://be.psikotest.babeng.web.id/",r=T();k(()=>r.getSekolah);const g=k(()=>r.getIdentitas);r.$subscribe((e,i)=>{}),E().setPagesActive("kasus");const y=P();R();const C=f([]),c=f([]),B=[{label:"Actions",field:"actions",sortable:!1,width:"50px",tdClass:"text-center",thClass:"text-center"},{label:"Kasus",field:"kasus",type:"String"},{label:"Pengambilan Data",field:"pengambilandata",type:"String"},{label:"Teknik Konseling",field:"teknikkonseling",type:"String"},{label:"Penulis",field:"penulis",type:"String"}];(async()=>{try{const e=await x.get("ortu/data/catatan/kasus");return C.value=e.data,c.value=e.data,e.data}catch(e){console.error(e)}})();const _=e=>window.btoa(e),D=(e=null,i=h().format("YYYY-MM-Do"))=>{e===null?b.danger("Warning","Data tidak valid!"):window.open(`${v}api/guest/cetak/catatankasus/${_(e)}?token=${_(i)}`)},A=async e=>{y.push({name:"AdminCatatanKasusEdit",params:{id:e}})},S=async(e,i)=>{if(confirm("Apakah anda yakin menghapus data ini?"))try{const l=await x.delete(`ortu/data/catatan/kasus/data/${e}`);return c.value.splice(i,1),b.success("Success","Data Berhasil dihapus!"),l.data}catch(l){console.error(l)}};return(e,i)=>{const l=u("buttton"),p=u("router-link"),j=u("vue-good-table");return a(),n(H,null,[t("div",F,[G,t("div",L,[o(M,null,{content:d(()=>[W,o(N),O]),_:1})])]),t("div",U,[t("div",null,[o(p,{to:{name:"AdminCatatanKasusTambah",params:{id:e.id}}},{default:d(()=>[o(l,{class:"btn btn-primary"},{default:d(()=>[q]),_:1})]),_:1},8,["to"]),t("a",{onClick:i[0]||(i[0]=s=>D(V(g).id))},Q)]),X]),Z,t("div",tt,[t("div",et,[t("div",st,[c.value?(a(),n("div",at,[o(j,{"line-numbers":"true",columns:B,rows:c.value,"search-options":{enabled:!0},"pagination-options":{enabled:!0,perPageDropdown:[10,20,50]},styleClass:"vgt-table striped bordered condensed",class:"py-0"},{"table-row":d(s=>[s.column.field=="actions"?(a(),n("span",nt,[t("div",ot,[s.row.penulis=="admin"?(a(),n("div",it)):s.row.penulis=="gurubk"?(a(),n("div",lt)):(a(),n("div",dt,[o(Y,{onClick:K=>A(s.row.id,s.index)},null,8,["onClick"]),o(I,{onClick:K=>S(s.row.id,s.index)},null,8,["onClick"])])),o(p,{to:{name:"AdminCatatanKasusDetail",params:{id:s.row.id}}},{default:d(()=>[ct]),_:2},1032,["to"])])])):s.column.field=="no"?(a(),n("span",rt,[t("div",ut,w(s.index+1),1)])):s.column.field=="penulis"?(a(),n("span",mt,[t("div",_t,[s.row.penulis=="admin"?(a(),n("p",pt,"Admin")):s.row.penulis=="gurubk"?(a(),n("p",ht,"Sekolah")):(a(),n("p",kt,"Ortu / Walimurid"))])])):(a(),n("span",ft,w(s.formattedRow[s.column.field]),1))]),_:1},8,["rows"])])):z("",!0)])])])],64)}}};export{Bt as default};
