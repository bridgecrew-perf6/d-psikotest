import{a as K,b as A,c as D,r as d,j as w,o as a,e as o,f as e,g as v,S as V,h as $,w as b,q as c,F as H,A as f,T as p,t as l}from"./index.7c5425a0.js";const N={class:"pt-4 px-10 md:flex justify-between"},P=e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"},"Siswa")],-1),F={class:"md:py-0 py-4 space-x-2 space-y-2"},G={class:"w-full bg-base-200 shadow py-4 px-4"},I={class:"flex justify-center"},R={class:"py-2"},T={class:"md:py-2 px-4 lg:flex flex-wrap gap-4"},U={class:"w-full lg:w-full"},z={class:"bg-base-200 shadow rounded-lg px-4 py-4"},E={key:0},O={key:0},q={class:"text-sm font-medium text-center flex justify-center space-x-0"},W=e("button",{class:"btn btn-sm btn-primary tooltip","data-tip":"Detail"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),Y={key:1},J={class:"text-center"},L={key:2},Q={class:"text-left"},X={key:3},Z={class:"flex justify-center gap-2"},ee={class:"text-center"},te=["onClick"],se=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1),ae=[se],oe={key:4},ne={class:"flex justify-center gap-2"},le={class:"text-center"},re=["onClick"],ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1),de=[ie],ce={key:5},ue={class:"flex justify-center gap-2"},he={class:"text-center"},_e=["onClick"],me=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1),we=[me],ve={key:6},fe={class:"flex justify-center gap-2"},pe={class:"text-center"},ke=["onClick"],xe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1),ge=[xe],be={key:7},Be={__name:"Index",setup(ye){K().setsubMenuActive("siswa"),A();const _=D().params.id,u=d([]),r=d([]),y=[{label:"No",field:"no",width:"50px",tdClass:"text-center",thClass:"text-center"},{label:"Actions",field:"actions",sortable:!1,width:"50px",tdClass:"text-center",thClass:"text-center"},{label:"Nama Siswa",field:"nama",type:"String"},{label:"Kelas",field:"kelas_nama",type:"String"},{label:"Username",field:"username",type:"String"},{label:"Password Default",field:"passworddefault",type:"String"},{label:"Username Ortu",field:"ortu_username",type:"String"},{label:"Password Default Ortu",field:"ortu_passworddefault",type:"String"}],k=async()=>{try{const s=await f.get(`owner/datasekolah/${_}}/siswa`);return u.value=s.data,r.value=s.data,s.data}catch(s){console.error(s)}};k();const C=()=>{if(confirm("Apakah anda yakin menggenerate akun siswa yang belum dibuat?"))try{const s=f.post(`owner/datasekolah/${_}/siswa/generateakun`);return k(),p.success("Success","Generate akun berhasil!"),s.data}catch(s){console.error(s)}},h=s=>{navigator.clipboard.writeText(s),p.babeng("Info",`${s} berhasil disalin`)},x=d([]),i=d({label:"Semua Kelas",id:"Semua Kelas"});let g=d([{label:"Semua Kelas",id:"Semua Kelas"},{label:"Belum masuk Kelas",id:"Belum masuk Kelas"}]);(async()=>{try{const s=await f.get(`owner/datasekolah/${_}/kelas`);return x.value=s.data,x.value.forEach(n=>{g.value.push({label:n.nama,id:n.id})}),s}catch(s){p.danger("Warning","Data Gagal dimuat"),console.error(s)}})();const M=()=>{if(i.value.id==="Semua Kelas")r.value=u.value;else if(i.value.id==="Belum masuk Kelas"){let s=u.value.filter(n=>n.kelas===null);r.value=s}else{let s=u.value.filter(n=>n.kelas_id==i.value.id);r.value=s}};return(s,n)=>{const S=w("v-select"),j=w("router-link"),B=w("vue-good-table");return a(),o(H,null,[e("div",N,[P,e("div",F,[e("button",{class:"btn btn-sm btn-warning text-base-content",onClick:n[0]||(n[0]=t=>C())}," Generate Akun Baru ")])]),e("div",G,[e("div",I,[v(S,{class:V(["py-2 px-3 w-72 mx-auto md:mx-0",{disabled:!1}]),options:$(g),modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=t=>i.value=t)},null,8,["options","modelValue"]),e("div",R,[e("button",{class:"btn btn-sm btn-info p-2",onClick:n[2]||(n[2]=t=>M())}," Cari ")])])]),e("div",T,[e("div",U,[e("div",z,[r.value?(a(),o("div",E,[v(B,{columns:y,rows:r.value,"search-options":{enabled:!0},"pagination-options":{enabled:!0,perPageDropdown:[10,20,50]},styleClass:"vgt-table striped bordered condensed",class:"py-0"},{"table-row":b(t=>[t.column.field=="actions"?(a(),o("span",O,[e("div",q,[v(j,{to:{name:"AdminYayasanDetail",params:{id:t.row.id}}},{default:b(()=>[W]),_:2},1032,["to"])])])):t.column.field=="no"?(a(),o("span",Y,[e("div",J,l(t.index+1),1)])):t.column.field=="jml_sekolah"?(a(),o("span",L,[e("div",Q,l(t.row.jml_sekolah)+" Sekolah",1)])):t.column.field=="username"?(a(),o("span",X,[e("div",Z,[e("div",ee,l(t.row.username),1),t.row.username?(a(),o("span",{key:0,onClick:m=>h(t.row.username),class:"hover:text-primary cursor-pointer"},ae,8,te)):c("",!0)])])):t.column.field=="passworddefault"?(a(),o("span",oe,[e("div",ne,[e("div",le,l(t.row.passworddefault),1),t.row.passworddefault?(a(),o("span",{key:0,onClick:m=>h(t.row.passworddefault),class:"hover:text-primary cursor-pointer"},de,8,re)):c("",!0)])])):t.column.field=="ortu_username"?(a(),o("span",ce,[e("div",ue,[e("div",he,l(t.row.ortu_username),1),t.row.ortu_username?(a(),o("span",{key:0,onClick:m=>h(t.row.ortu_username),class:"hover:text-primary cursor-pointer"},we,8,_e)):c("",!0)])])):t.column.field=="ortu_passworddefault"?(a(),o("span",ve,[e("div",fe,[e("div",pe,l(t.row.ortu_passworddefault),1),t.row.ortu_passworddefault?(a(),o("span",{key:0,onClick:m=>h(t.row.ortu_passworddefault),class:"hover:text-primary cursor-pointer"},ge,8,ke)):c("",!0)])])):(a(),o("span",be,l(t.formattedRow[t.column.field]),1))]),_:1},8,["rows"])])):c("",!0)])])])],64)}}};export{Be as default};
