var R=Object.defineProperty,T=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var L=(k,r,h)=>r in k?R(k,r,{enumerable:!0,configurable:!0,writable:!0,value:h}):k[r]=h,b=(k,r)=>{for(var h in r||(r={}))z.call(r,h)&&L(k,h,r[h]);if(A)for(var h of A(r))J.call(r,h)&&L(k,h,r[h]);return k},g=(k,r)=>T(k,F(r));import{a as $,b as H,c as N,r as _,n as O,j as M,o,e as d,f as a,g as m,S as U,h as f,F as D,z as q,w as x,q as G,A as C,T as W,t as j,i as Q}from"./index.4f75e42e.js";const X=a("div",{class:"pt-4 px-10 md:flex justify-between"},[a("div",null,[a("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"}," Analisa Penjurusan")]),a("div",{class:"md:py-0 py-4 space-x-2 space-y-2"})],-1),Y={class:"w-full bg-base-200 shadow py-4 px-4"},Z={class:"flex justify-center gap-2"},I={class:"py-2"},aa=["href"],ea=a("button",{class:"btn hover:shadow-lg btn-success shadow text-white hover:text-gray-100 gap-2"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})]),Q(" Export ")],-1),ta=[ea],sa={class:"w-full bg-base-200 shadow shadow-md py-4 px-4"},la={class:"flex justify-center gap-2 w-full flex-wrap"},na={class:"collapse"},ia=a("input",{type:"checkbox"},null,-1),oa=a("div",{class:"collapse-title text-xl font-medium bg-gray-300 rounded-lg text-gray-600 text-center"}," List Pilihan Data ",-1),da={class:"collapse-content"},ca={class:"flex justify-center gap-2 w-full flex-wrap py-2"},ra={class:"form-control"},ua=["onClick"],ha={class:"label-text px-2"},ka=["checked"],_a={class:"md:py-2 px-4 lg:flex flex-wrap gap-4"},pa={class:"w-full lg:w-full"},fa={class:"bg-base-200 shadow rounded-lg px-4 py-4"},ma={key:0},wa={key:0},va={class:"text-sm font-medium text-center flex justify-center"},ba={key:0},ga=a("button",{"data-tip":"Deteksi",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),xa={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},ya=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Sa=[ya],Ma={key:1},ja={class:"text-sm font-medium text-center flex justify-center"},Ka={key:0},Ba=a("button",{"data-tip":"Penanganan Masalah Deteksi",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Aa={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},La=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Da=[La],Ca={key:2},Pa={class:"text-sm font-medium text-center flex justify-center"},Ea={key:0},Va=a("button",{"data-tip":"Sertifikat",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Ra={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},Ta=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Fa=[Ta],za={key:3},Ja={class:"text-sm font-medium text-center flex justify-center"},$a={key:0},Ha=a("button",{"data-tip":"Terapis",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Na={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},Oa=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Ua=[Oa],qa={key:4},Ga={class:"text-center"},Wa={key:5},ee={__name:"Index",setup(k){const r="https://be.psikotest.babeng.web.id/";$().setsubMenuActive("penjurusan"),H();const p=N().params.id,w=_([]),u=_([]),y=_([{label:"No",field:"no",width:"50px",tdClass:"text-center",thClass:"text-center"},{label:"Nama Siswa",field:"nama",type:"String"},{label:"Kelas",field:"kelas_nama",type:"String"},{label:"Tipe Minat - Bakat Rank 1",field:"tipe_bakat_1",type:"String"}]);(async()=>{try{const t=await C.get(`owner/datasekolah/${p}}/datasiswa/withsertifikat`);return w.value=t.data,w.value.forEach((e,c)=>{let l={};e.siswadetailwithsertifikat&&n.value.forEach(i=>{l[i.id]=e.siswadetailwithsertifikat.apiprobkwithsertifikat.apiprobk_sertifikat[i.id]}),u.value.push(g(b({},e),{nama:e.nama,id:e.id,kelas:`${e.kelas?e.kelas.nama:""}`})),n.value.forEach(i=>{u.value[c][i.id]=l[i.id]})}),t.data}catch(t){console.error(t)}})();const K=_([]),v=_({label:"Semua Kelas",id:"Semua Kelas"});let B=_([{label:"Semua Kelas",id:"Semua Kelas"},{label:"Belum masuk Kelas",id:"Belum masuk Kelas"}]);(async()=>{try{const t=await C.get(`owner/datasekolah/${p}/kelas`);return K.value=t.data,K.value.forEach(e=>{B.value.push({label:e.nama,id:e.id})}),t}catch(t){W.danger("Warning","Data Gagal dimuat"),console.error(t)}})();const P=()=>{if(v.value.id==="Semua Kelas")w.value.forEach((t,e)=>{let c={};t.siswadetailwithsertifikat&&n.value.forEach(l=>{c[l.id]=t.siswadetailwithsertifikat.apiprobkwithsertifikat.apiprobk_sertifikat[l.id]}),u.value.push(g(b({},t),{nama:t.nama,id:t.id,kelas:`${t.kelas?t.kelas.nama:""}`})),n.value.forEach(l=>{u.value[e][l.id]=c[l.id]})});else if(v.value.id==="Belum masuk Kelas"){let t=w.value.filter(e=>e.kelas===null);t.length>0?t.forEach((e,c)=>{let l={};e.siswadetailwithsertifikat&&n.value.forEach(i=>{l[i.id]=e.siswadetailwithsertifikat.apiprobkwithsertifikat.apiprobk_sertifikat[i.id]}),u.value.push(g(b({},e),{nama:e.nama,id:e.id,kelas:`${e.kelas?e.kelas.nama:""}`})),n.value.forEach(i=>{u.value[c][i.id]=l[i.id]})}):u.value=[]}else{let t=w.value.filter(e=>e.kelas_id==v.value.id);t.length>0?(u.value=[],t.forEach((e,c)=>{let l={};e.siswadetailwithsertifikat&&n.value.forEach(i=>{l[i.id]=e.siswadetailwithsertifikat.apiprobkwithsertifikat.apiprobk_sertifikat[i.id]}),u.value.push(g(b({},e),{nama:e.nama,id:e.id,kelas:`${e.kelas?e.kelas.nama:""}`})),n.value.forEach(i=>{u.value[c][i.id]=l[i.id]})})):u.value=[]}},n=_([{label:"Tipe Minat - Bakat Rank 1",id:"tipe_bakat_1",checked:!0},{label:"Tipe Minat - Bakat Rank 2",id:"tipe_bakat_2",checked:!1},{label:"Tipe Minat - Bakat Rank 3",id:"tipe_bakat_3",checked:!1},{label:"Studi lanjut dari SMP yg diinginkan",id:"mnt_studi_lanjut_smp",checked:!1},{label:"Jurusan SMA yg diinginkan",id:"mnt_studi_lanjut_sma",checked:!1},{label:"Jurusan SMK yg diinginkan 1",id:"mnt_studi_lanjut_smk_1",checked:!1},{label:"Jurusan SMK yg diinginkan 2",id:"mnt_studi_lanjut_smk_2",checked:!1},{label:"Jurusan SMK yg diinginkan 3",id:"mnt_studi_lanjut_smk_3",checked:!1},{label:"Disarankan Jurusan 1",id:"saran_fakultas_1",checked:!1},{label:"Dipertimbangkan Jurusan 2",id:"saran_fakultas_2",checked:!1},{label:"Tidak Disarankan Jurusan 3",id:"kesimpulan_tambahan",checked:!1},{label:"Studi Lanjut SMA/SMK Fakultas 1",id:"mnt_studi_lanjut_sma_smk_1_fakultas",checked:!1},{label:"Studi Lanjut SMA/SMK Prodi 1",id:"mnt_studi_lanjut_sma_smk_1_prodi",checked:!1},{label:"Studi Lanjut SMA/SMK Fakultas 2",id:"mnt_studi_lanjut_sma_smk_2_fakultas",checked:!1},{label:"Studi Lanjut SMA/SMK Prodi 2",id:"mnt_studi_lanjut_sma_smk_2_prodi",checked:!1},{label:"Studi Lanjut SMA/SMK Kedinasan",id:"mnt_studi_lanjut_sma_smk_kedinasan",checked:!1},{label:"Sekolah Lanjutan",id:"sekolah_lanjutan",checked:!1},{label:"Sekolah Jurusan",id:"sekolah_jurusan",checked:!1},{label:"Saran ke Fakultas 1",id:"saran_fakultas_1",checked:!1},{label:"Saran ke Fakultas 1 Prodi",id:"saran_fakultas_1_prodi",checked:!1},{label:"Saran ke Fakultas 2",id:"saran_fakultas_2",checked:!1},{label:"Saran ke Fakultas 2 Prodi",id:"saran_fakultas_2_prodi",checked:!1},{label:"Keterangan",id:"keterangan",checked:!1}]),E=t=>{n.value[t].checked=!n.value[t].checked,n.value[t].checked?y.value.push({label:n.value[t].label,field:n.value[t].id,type:n.value[t].type?n.value[t].type:"String"}):y.value.forEach((e,c)=>{e.field===n.value[t].id&&y.value.splice(c,1)})},S=_("kb_persen");return O(n.value,(t,e)=>{S.value=[],n.value.forEach((c,l)=>{c.checked&&S.value.push(c.id)})}),(t,e)=>{const c=M("v-select"),l=M("router-link"),i=M("vue-good-table");return o(),d(D,null,[X,a("div",Y,[a("div",Z,[m(c,{class:U(["py-2 px-3 w-72 mx-auto md:mx-0",{disabled:!1}]),options:f(B),modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=s=>v.value=s)},null,8,["options","modelValue"]),a("div",I,[a("button",{class:"btn btn-sm btn-info p-2",onClick:e[1]||(e[1]=s=>P())}," Cari ")]),a("a",{href:f(r)+"api/admin/proses/export/datasiswa/"+f(p)+"/get?listdata="+S.value,target:"_blank"},ta,8,aa)])]),a("div",sa,[a("div",la,[a("div",na,[ia,oa,a("div",da,[a("div",ca,[(o(!0),d(D,null,q(n.value,(s,V)=>(o(),d("div",null,[a("div",ra,[a("label",{class:"cursor-pointer label",onClick:Za=>E(V)},[a("span",ha,j(s.label),1),a("input",{type:"checkbox",checked:s.checked,class:"checkbox checkbox-secondary"},null,8,ka)],8,ua)])]))),256))])])])])]),a("div",_a,[a("div",pa,[a("div",fa,[u.value?(o(),d("div",ma,[m(i,{columns:y.value,rows:u.value,"search-options":{enabled:!0},"pagination-options":{enabled:!0,perPageDropdown:[10,20,50]},styleClass:"vgt-table striped bordered condensed",class:"py-0"},{"table-row":x(s=>[s.column.field=="deteksi"?(o(),d("span",wa,[a("div",va,[s.row.siswadetail.length>0?(o(),d("div",ba,[m(l,{to:{name:"AdminSekolah",params:{id:f(p),id2:s.row.id}}},{default:x(()=>[ga]),_:2},1032,["to"])])):(o(),d("button",xa,Sa))])])):s.column.field=="deteksipenanganan"?(o(),d("span",Ma,[a("div",ja,[s.row.siswadetail.length>0?(o(),d("div",Ka,[m(l,{to:{name:"AdminSekolah",params:{id:f(p),id2:s.row.id}}},{default:x(()=>[Ba]),_:2},1032,["to"])])):(o(),d("button",Aa,Da))])])):s.column.field=="sertifikat"?(o(),d("span",Ca,[a("div",Pa,[s.row.siswadetail.length>0?(o(),d("div",Ea,[m(l,{to:{name:"AdminSekolah",params:{id:f(p),id2:s.row.id}}},{default:x(()=>[Va]),_:2},1032,["to"])])):(o(),d("button",Ra,Fa))])])):s.column.field=="terapis"?(o(),d("span",za,[a("div",Ja,[s.row.siswadetail.length>0?(o(),d("div",$a,[m(l,{to:{name:"AdminSekolah",params:{id:f(p),id2:s.row.id}}},{default:x(()=>[Ha]),_:2},1032,["to"])])):(o(),d("button",Na,Ua))])])):s.column.field=="no"?(o(),d("span",qa,[a("div",Ga,j(s.index+1),1)])):(o(),d("span",Wa,j(s.formattedRow[s.column.field]),1))]),_:1},8,["columns","rows"])])):G("",!0)])])])],64)}}};export{ee as default};
