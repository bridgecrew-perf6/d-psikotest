import{a as M,b as K,c as j,r as d,j as f,o as a,e as o,f as e,g as p,Q as B,h as S,w as V,n as c,F as $,A as k,T as x,t as r}from"./index.c2d2c6c2.js";const A=e("div",{class:"pt-4 px-10 md:flex justify-between"},[e("div",null,[e("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"},"Siswa")]),e("div",{class:"md:py-0 py-4 space-x-2 space-y-2"})],-1),D={class:"w-full bg-base-200 shadow py-4 px-4"},F={class:"flex justify-center"},H={class:"py-2"},N={class:"md:py-2 px-4 lg:flex flex-wrap gap-4"},I={class:"w-full lg:w-full"},P={class:"bg-base-200 shadow rounded-lg px-4 py-4"},R={key:0},T={key:0},E=e("div",{class:"text-sm font-medium text-center flex justify-center space-x-0"},null,-1),z=[E],G={key:1},Q={class:"text-left"},U={key:2},W={class:"flex justify-center gap-2"},q={class:"text-center"},J=["onClick"],L=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1),O=[L],X={key:3},Y={class:"flex justify-center gap-2"},Z={class:"text-center"},ee=["onClick"],se=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1),te=[se],ae={key:4},oe={class:"flex justify-center gap-2"},ne={class:"text-center"},le=["onClick"],re=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1),ie=[re],de={key:5},ce={class:"flex justify-center gap-2"},ue={class:"text-center"},he=["onClick"],_e=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1),me=[_e],we={key:6},ge={__name:"Index",setup(ve){M().setsubMenuActive("siswa"),K();const m=j().params.id,u=d([]),l=d([]),y=[{label:"Nama Siswa",field:"nama",type:"String"},{label:"Kelas",field:"kelas_nama",type:"String"}];(async()=>{try{const t=await k.get(`yayasan/datasekolah/${m}/siswa`);return u.value=t.data,l.value=t.data,t.data}catch(t){console.error(t)}})();const h=t=>{navigator.clipboard.writeText(t),x.babeng("Info",`${t} berhasil disalin`)},w=d([]),i=d({label:"Semua Kelas",id:"Semua Kelas"});let v=d([{label:"Semua Kelas",id:"Semua Kelas"},{label:"Belum masuk Kelas",id:"Belum masuk Kelas"}]);(async()=>{try{const t=await k.get(`yayasan/datasekolah/${m}/kelas`);return w.value=t.data,w.value.forEach(n=>{v.value.push({label:n.nama,id:n.id})}),t}catch(t){x.danger("Warning","Data Gagal dimuat"),console.error(t)}})();const g=()=>{if(i.value.id==="Semua Kelas")l.value=u.value;else if(i.value.id==="Belum masuk Kelas"){let t=u.value.filter(n=>n.kelas===null);l.value=t}else{let t=u.value.filter(n=>n.kelas_id==i.value.id);l.value=t}};return(t,n)=>{const b=f("v-select"),C=f("vue-good-table");return a(),o($,null,[A,e("div",D,[e("div",F,[p(b,{class:B(["py-2 px-3 w-72 mx-auto md:mx-0",{disabled:!1}]),options:S(v),modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=s=>i.value=s)},null,8,["options","modelValue"]),e("div",H,[e("button",{class:"btn btn-sm btn-info p-2",onClick:n[1]||(n[1]=s=>g())}," Cari ")])])]),e("div",N,[e("div",I,[e("div",P,[l.value?(a(),o("div",R,[p(C,{"line-numbers":!0,columns:y,rows:l.value,"search-options":{enabled:!0},"pagination-options":{enabled:!0,perPageDropdown:[10,20,50]},styleClass:"vgt-table striped bordered condensed",class:"py-0"},{"table-row":V(s=>[s.column.field=="actions"?(a(),o("span",T,z)):s.column.field=="jml_sekolah"?(a(),o("span",G,[e("div",Q,r(s.row.jml_sekolah)+" Sekolah",1)])):s.column.field=="username"?(a(),o("span",U,[e("div",W,[e("div",q,r(s.row.username),1),s.row.username?(a(),o("span",{key:0,onClick:_=>h(s.row.username),class:"hover:text-primary cursor-pointer"},O,8,J)):c("",!0)])])):s.column.field=="passworddefault"?(a(),o("span",X,[e("div",Y,[e("div",Z,r(s.row.passworddefault),1),s.row.passworddefault?(a(),o("span",{key:0,onClick:_=>h(s.row.passworddefault),class:"hover:text-primary cursor-pointer"},te,8,ee)):c("",!0)])])):s.column.field=="ortu_username"?(a(),o("span",ae,[e("div",oe,[e("div",ne,r(s.row.ortu_username),1),s.row.ortu_username?(a(),o("span",{key:0,onClick:_=>h(s.row.ortu_username),class:"hover:text-primary cursor-pointer"},ie,8,le)):c("",!0)])])):s.column.field=="ortu_passworddefault"?(a(),o("span",de,[e("div",ce,[e("div",ue,r(s.row.ortu_passworddefault),1),s.row.ortu_passworddefault?(a(),o("span",{key:0,onClick:_=>h(s.row.ortu_passworddefault),class:"hover:text-primary cursor-pointer"},me,8,he)):c("",!0)])])):(a(),o("span",we,r(s.formattedRow[s.column.field]),1))]),_:1},8,["rows"])])):c("",!0)])])])],64)}}};export{ge as default};
