var R=Object.defineProperty,F=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var L=(k,r,h)=>r in k?R(k,r,{enumerable:!0,configurable:!0,writable:!0,value:h}):k[r]=h,b=(k,r)=>{for(var h in r||(r={}))z.call(r,h)&&L(k,h,r[h]);if(A)for(var h of A(r))$.call(r,h)&&L(k,h,r[h]);return k},g=(k,r)=>F(k,T(r));import{a as H,b as N,c as J,r as _,z as O,j as M,o as i,e as o,f as a,g as w,Q as U,h as f,F as C,s as G,w as x,n as Q,A as D,T as W,t as j,i as q}from"./index.2dfae025.js";const X=a("div",{class:"pt-4 px-10 md:flex justify-between"},[a("div",null,[a("span",{class:"text-2xl sm:text-3xl leading-none font-bold text-base-content shadow-sm"}," Analisa Penjurusan")]),a("div",{class:"md:py-0 py-4 space-x-2 space-y-2"})],-1),Y={class:"w-full bg-base-200 shadow py-4 px-4"},Z={class:"flex justify-center gap-2"},I={class:"py-2"},aa=["href"],ea=a("button",{class:"btn hover:shadow-lg btn-success shadow text-white hover:text-gray-100 gap-2"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})]),q(" Export ")],-1),ta=[ea],sa={class:"w-full bg-base-200 shadow shadow-md py-4 px-4"},na={class:"flex justify-center gap-2 w-full flex-wrap"},la={class:"collapse"},ia=a("input",{type:"checkbox"},null,-1),oa=a("div",{class:"collapse-title text-xl font-medium bg-gray-300 rounded-lg text-gray-600 text-center"}," List Pilihan Data ",-1),da={class:"collapse-content"},ca={class:"flex justify-center gap-2 w-full flex-wrap py-2"},ra={class:"form-control"},ua=["onClick"],ha={class:"label-text px-2"},ka=["checked"],_a={class:"md:py-2 px-4 lg:flex flex-wrap gap-4"},pa={class:"w-full lg:w-full"},fa={class:"bg-base-200 shadow rounded-lg px-4 py-4"},wa={key:0},ma={key:0},va={class:"text-sm font-medium text-center flex justify-center"},ba={key:0},ga=a("button",{"data-tip":"Deteksi",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),xa={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},ya=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Sa=[ya],Ma={key:1},ja={class:"text-sm font-medium text-center flex justify-center"},Ka={key:0},Ba=a("button",{"data-tip":"Penanganan Masalah Deteksi",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Aa={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},La=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Ca=[La],Da={key:2},Pa={class:"text-sm font-medium text-center flex justify-center"},Ea={key:0},Va=a("button",{"data-tip":"Sertifikat",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Ra={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},Fa=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Ta=[Fa],za={key:3},$a={class:"text-sm font-medium text-center flex justify-center"},Ha={key:0},Na=a("button",{"data-tip":"Terapis",class:"tooltip btn btn-success btn-sm text-base-content"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),Ja={key:1,"data-tip":"Data API PRO BK tidak ditemukan",class:"tooltip btn btn-warning btn-sm text-base-content"},Oa=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),Ua=[Oa],Ga={key:4},Qa={class:"text-center"},Wa={key:5},ee={__name:"Index",setup(k){const r="https://be.psikotest.babeng.web.id/";H().setsubMenuActive("penjurusan"),N();const p=J().params.id,m=_([]),u=_([]),y=_([{label:"No",field:"no",width:"50px",tdClass:"text-center",thClass:"text-center"},{label:"Nama Siswa",field:"nama",type:"String"},{label:"Kelas",field:"kelas_nama",type:"String"},{label:"Tipe Minat - Bakat Rank 1",field:"tipe_bakat_1",type:"String"}]);(async()=>{try{const t=await D.get(`yayasan/datasekolah/${p}}/datasiswa/withsertifikat`);return m.value=t.data,m.value.forEach((e,c)=>{let n={};e.siswadetailwithsertifikat&&d.value.forEach(l=>{n[l.id]=e.siswadetailwithsertifikat.apiprobkwithsertifikat.apiprobk_sertifikat[l.id]}),u.value.push(g(b({},e),{nama:e.nama,id:e.id,kelas:`${e.kelas?e.kelas.nama:""}`})),d.value.forEach(l=>{u.value[c][l.id]=n[l.id]})}),t.data}catch(t){console.error(t)}})();const K=_([]),v=_({label:"Semua Kelas",id:"Semua Kelas"});let B=_([{label:"Semua Kelas",id:"Semua Kelas"},{label:"Belum masuk Kelas",id:"Belum masuk Kelas"}]);(async()=>{try{const t=await D.get(`yayasan/datasekolah/${p}/kelas`);return K.value=t.data,K.value.forEach(e=>{B.value.push({label:e.nama,id:e.id})}),t}catch(t){W.danger("Warning","Data Gagal dimuat"),console.error(t)}})();const P=()=>{if(v.value.id==="Semua Kelas")m.value.forEach((t,e)=>{let c={};t.siswadetailwithsertifikat&&d.value.forEach(n=>{c[n.id]=t.siswadetailwithsertifikat.apiprobkwithsertifikat.apiprobk_sertifikat[n.id]}),u.value.push(g(b({},t),{nama:t.nama,id:t.id,kelas:`${t.kelas?t.kelas.nama:""}`})),d.value.forEach(n=>{u.value[e][n.id]=c[n.id]})});else if(v.value.id==="Belum masuk Kelas"){let t=m.value.filter(e=>e.kelas===null);t.length>0?t.forEach((e,c)=>{let n={};e.siswadetailwithsertifikat&&d.value.forEach(l=>{n[l.id]=e.siswadetailwithsertifikat.apiprobkwithsertifikat.apiprobk_sertifikat[l.id]}),u.value.push(g(b({},e),{nama:e.nama,id:e.id,kelas:`${e.kelas?e.kelas.nama:""}`})),d.value.forEach(l=>{u.value[c][l.id]=n[l.id]})}):u.value=[]}else{let t=m.value.filter(e=>e.kelas_id==v.value.id);t.length>0?(u.value=[],t.forEach((e,c)=>{let n={};e.siswadetailwithsertifikat&&d.value.forEach(l=>{n[l.id]=e.siswadetailwithsertifikat.apiprobkwithsertifikat.apiprobk_sertifikat[l.id]}),u.value.push(g(b({},e),{nama:e.nama,id:e.id,kelas:`${e.kelas?e.kelas.nama:""}`})),d.value.forEach(l=>{u.value[c][l.id]=n[l.id]})})):u.value=[]}},d=_([{label:"Tipe Minat - Bakat Rank 1",id:"tipe_bakat_1",checked:!0},{label:"Tipe Minat - Bakat Rank 2",id:"tipe_bakat_2",checked:!1},{label:"Tipe Minat - Bakat Rank 3",id:"tipe_bakat_3",checked:!1},{label:"Studi lanjut dari SMP yg diinginkan",id:"mnt_studi_lanjut_smp",checked:!1},{label:"Studi Lanjut SMA/SMK Fakultas 1",id:"mnt_studi_lanjut_sma_smk_1_fakultas",checked:!1},{label:"Studi Lanjut SMA/SMK Prodi 1",id:"mnt_studi_lanjut_sma_smk_1_prodi",checked:!1},{label:"Studi Lanjut SMA/SMK Fakultas 2",id:"mnt_studi_lanjut_sma_smk_2_fakultas",checked:!1},{label:"Studi Lanjut SMA/SMK Prodi 2",id:"mnt_studi_lanjut_sma_smk_2_prodi",checked:!1},{label:"Studi Lanjut SMA/SMK Kedinasan",id:"mnt_studi_lanjut_sma_smk_kedinasan",checked:!1},{label:"Jurusan SMA yg diinginkan",id:"mnt_studi_lanjut_sma",checked:!1},{label:"Jurusan SMK yg diinginkan 1",id:"mnt_studi_lanjut_smk_1",checked:!1},{label:"Jurusan SMK yg diinginkan 2",id:"mnt_studi_lanjut_smk_2",checked:!1},{label:"Jurusan SMK yg diinginkan 3",id:"mnt_studi_lanjut_smk_3",checked:!1},{label:"Sekolah Lanjutan",id:"sekolah_lanjutan",checked:!1},{label:"Sekolah Jurusan",id:"sekolah_jurusan",checked:!1},{label:"Saran ke Fakultas 1",id:"saran_fakultas_1",checked:!1},{label:"Saran ke Fakultas 1 Prodi",id:"saran_fakultas_1_prodi",checked:!1},{label:"Saran ke Fakultas 2",id:"saran_fakultas_2",checked:!1},{label:"Saran ke Fakultas 2 Prodi",id:"saran_fakultas_2_prodi",checked:!1},{label:"Keterangan",id:"keterangan",checked:!1}]),E=t=>{d.value[t].checked=!d.value[t].checked,d.value[t].checked?y.value.push({label:d.value[t].label,field:d.value[t].id,type:"String"}):y.value.forEach((e,c)=>{e.field===d.value[t].id&&y.value.splice(c,1)})},S=_("kb_persen");return O(d.value,(t,e)=>{S.value=[],d.value.forEach((c,n)=>{c.checked&&S.value.push(c.id)})}),(t,e)=>{const c=M("v-select"),n=M("router-link"),l=M("vue-good-table");return i(),o(C,null,[X,a("div",Y,[a("div",Z,[w(c,{class:U(["py-2 px-3 w-72 mx-auto md:mx-0",{disabled:!1}]),options:f(B),modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=s=>v.value=s)},null,8,["options","modelValue"]),a("div",I,[a("button",{class:"btn btn-sm btn-info p-2",onClick:e[1]||(e[1]=s=>P())}," Cari ")]),a("a",{href:f(r)+"api/admin/proses/export/datasiswa/"+f(p)+"/get?listdata="+S.value,target:"_blank"},ta,8,aa)])]),a("div",sa,[a("div",na,[a("div",la,[ia,oa,a("div",da,[a("div",ca,[(i(!0),o(C,null,G(d.value,(s,V)=>(i(),o("div",null,[a("div",ra,[a("label",{class:"cursor-pointer label",onClick:Za=>E(V)},[a("span",ha,j(s.label),1),a("input",{type:"checkbox",checked:s.checked,class:"checkbox checkbox-secondary"},null,8,ka)],8,ua)])]))),256))])])])])]),a("div",_a,[a("div",pa,[a("div",fa,[u.value?(i(),o("div",wa,[w(l,{columns:y.value,rows:u.value,"search-options":{enabled:!0},"pagination-options":{enabled:!0,perPageDropdown:[10,20,50]},styleClass:"vgt-table striped bordered condensed",class:"py-0"},{"table-row":x(s=>[s.column.field=="deteksi"?(i(),o("span",ma,[a("div",va,[s.row.siswadetail.length>0?(i(),o("div",ba,[w(n,{to:{name:"AdminSekolah",params:{id:f(p),id2:s.row.id}}},{default:x(()=>[ga]),_:2},1032,["to"])])):(i(),o("button",xa,Sa))])])):s.column.field=="deteksipenanganan"?(i(),o("span",Ma,[a("div",ja,[s.row.siswadetail.length>0?(i(),o("div",Ka,[w(n,{to:{name:"AdminSekolah",params:{id:f(p),id2:s.row.id}}},{default:x(()=>[Ba]),_:2},1032,["to"])])):(i(),o("button",Aa,Ca))])])):s.column.field=="sertifikat"?(i(),o("span",Da,[a("div",Pa,[s.row.siswadetail.length>0?(i(),o("div",Ea,[w(n,{to:{name:"AdminSekolah",params:{id:f(p),id2:s.row.id}}},{default:x(()=>[Va]),_:2},1032,["to"])])):(i(),o("button",Ra,Ta))])])):s.column.field=="terapis"?(i(),o("span",za,[a("div",$a,[s.row.siswadetail.length>0?(i(),o("div",Ha,[w(n,{to:{name:"AdminSekolah",params:{id:f(p),id2:s.row.id}}},{default:x(()=>[Na]),_:2},1032,["to"])])):(i(),o("button",Ja,Ua))])])):s.column.field=="no"?(i(),o("span",Ga,[a("div",Qa,j(s.index+1),1)])):(i(),o("span",Wa,j(s.formattedRow[s.column.field]),1))]),_:1},8,["columns","rows"])])):Q("",!0)])])])],64)}}};export{ee as default};
